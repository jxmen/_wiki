---
layout  : wiki
title   : HTTP 완벽 가이드 요약
summary : 
date    : 2024-03-29 15:03:19 +0900
updated : 2024-04-06 16:58:46 +0900
tag     : http
toc     : true
public  : true
parent  : [[/book/summary]] 
latex   : false
resource: D0733664-A4C6-41F6-9EC6-591A4C32C6F3
---
* TOC
{:toc}

## 옮긴이의 글

HTTP/1.1 명세는 1999년 RFC 2616이었으나, 2014년 6월에 RFC 7230~7235로 대체되었다.

## 서문

> 책 전반에 걸쳐서, "HTTP를 어떻게 사용하는가"에 대한 내용뿐만 아니라 "HTTP를 사용하는 이유"에 대해서도 자세히 설명한다.

## 1부 - HTTP: 웹의 기초

### 1장 - HTTP 개관

내가 궁금했던 내용
- HTTP가 무엇인가?
- HTTP가 왜 탄생했는가?
- HTTP가 웹 트래픽을 어떻게 전송하는가?
- 웹 서버는 어떤 역할을 하는가?
- MIME 타입이란 무엇인가?

책에서 다룰 내용 - 3p
- [ ] 얼마나 많은 클라이언트와 서버가 통신하는지
- [X] 리소스(웹 콘텐츠)가 어디서 오는지
- [X] 웹 트랜잭션이 어떻게 동작하는지
- [X] HTTP 통신을 위해 사용하는 메시지의 형식
- [X] HTTP 기저의 TCP 네트워크 전송
- [X] 여러 종류의 HTTP 프로토콜
- [X] 인터넷 곳곳에 설치된 다양한 HTTP 구성요소

#### 1.3 리소스

웹 서버는 웹 리소스(웹 콘텐츠)를 관리하고 제공한다. 이는 정적 파일, 텍스트, 동영상 등 외에 모든 종류의 파일을 포함한다.

미디어 타입
- 인터넷에서는 여러 가지 타입을 다루는데, 이 타입에 대한 정보를 **MIME 타입**이라고 한다.
  ```
  Content-type: image/jpeg
  ```
  - 주 타입/ 부 타입으로 이루어진 라벨
- URI
  - 리소스의 고유 식별자이다. URL과 URN으로 구분된다.
  - URL
    - 경로를 통해 리소스를 식별하는 것
  - URN
    - 리소스 고유의 이름을 통해 리소스를 식별하는 것이다. URL과 다르게 리소스의 경로가 수정되어도 동일한 값을 가진다.

#### 1.4 트랜잭션

1.4.1 메서드
- 서버에게 어떤 동작이 취해져야 하는지를 말해준다.

1.4.2 상태 코드
- 응답과 함께 반환되며, 요청 성공, 실패, 추가 조치가 필요한지 알려주는 세 자리 숫자이다.

1.4.3 웹페이지는 여러 객체로 이루어질 수 있다
- 웹브라우저는 풍부한 웹페이지를 가져올 때 대량의 HTTP 트랜잭션을 수행한다. 

#### 1.5 메시지

요청은 다음과 같은 형식의 메시지가 주어진다.

```
GET /index.html
---
Accept: text/*

```
- 요청 메서드
- 요청 헤더

응답은 다음과 같은 형식으로 응답한다.

```
HTTP/1.1 200 OK
---
Content-type: text/html

---
<html>
...
</html>

```
- HTTP 상태 코드 / 상태 코드에 대한 메시지
- 응답 헤더
- 응답 본문

#### 1.6 TCP 커넥션

telnet
- 텔넷 유틸리티가 HTTP 요청을 수행하기 전 TCP 연결을 해주는 역할을 한다. 

#### 1.7 여러 종류의 HTTP 프로토콜

- HTTP/0.9: 프로토타입용
- HTTP/1.0: keep-alive 커넥션, 가상 호스팅 지원, 프락시 연결 지원
- HTTP/1.1: 1.0 결함 교정, 성능 최적화, 잘못된 기능 제거
- HTTP/2.0: 1.1 성능 개선을 위해 SPDY 프로토콜 기반으로 설계

#### 1.8 웹의 구성 요소

- 프록시
  - 주로 보안 향상을 위해 중재자 역할을 한다.
- 캐시
  - 웹 캐시, 프록시 캐시 등이 성능 향상을 위해 사용한다.
- 게이트웨이
  - 다른 서버들의 중개자로 동작하며, 주로 프로토콜 변환 시에 사용한다. (e.g. http -> ftp)
- 터널
  - 두 커넥션 사이 데이터를 열어보지 않고 그대로 전달해준다.
  - 프록시는 클라이언트의 패킷을 분석 후 다시 재조립하여 서버에 보내주지만, 터널은 패킷을 조작하지 않는다.
- 에이전트
  - 자동화된 HTTP 요청을 만드는 클라이언트


### 2장 - URL과 리소스

- [X] URL 문법, 여러 URL 컴포넌트가 어떤 의미를 가지며 수행하는지.
- [X] 여러 웹 클라이언트가 지원하는 상대 URL과 확장 URL같은 단축 URL에 대해서.
- [X] URL의 인코딩과 문자 규칙
- [X] 여러 인터넷 정보 시스템에 적용되는 공통 URL 스킴
- [X] 기존 이름은 유지하면서 객체들을 다른 장소로 옮기는 것을 가능하게 해주는 URN을 포함한 URL의 미래

#### 2.1 인터넷의 리소스 탐색하기

URL을 사용하면 리소스를 일관된 방식으로 지칭할 수 있다. 대부분의 URL은 `스킴://서버위치/경로`로 구성된다.

```
http://www.joes-hardware.com/seasonal/index-fail.html
```
- `http`: 스킴
  - 웹 클라이언트가 리소스에 어떻게 접근하는지 (**어떤 프로토콜을 사용할 것인지**)
- `www.joes-hardware.com`: 서버의 위치
  - 리소스가 어디에 호스팅되어 있는지
- `/seasonal/index-fail.html`: 리소스의 경로
  - 서버에 존재하는 로컬 리소스 중 요청받은 리소스가 무엇인지

#### 2.2 URL 문법

URL 문법을 더 자세하게 나누면 다음과 같은 형태가 된다. [^1]

`<스킴>://<사용자 이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<질의>#<프래그먼트>`

(자세한 내용은 중략...)

#### 2.3 단축 URL

상대 URL(`./hammers.html`)이 주어지면 기존의 절대 URL(`http://example.com`)의 정보를 상속받아 절대 URL(`https://example.com/hammers.html`)로 다시 변환한다.

#### 2.4 안전하지 않은 문자

##### 2.4.1 URL 문자 집합

이스케이프 문자열은 US-ASCII에서 사용이 금지된다. 특정 문자나 데이터를 인코딩할 수 있게 한다.

##### 2.4.2 인코딩 체계

안전하지 않은 문자 집합을 사용하는 경우 `%`기호로 시작해, ASCII 코드로 표현되는 두 개의 16진수 숫자로 이루어진 `이스케이프`문자로 바꾼다.

##### 2.4.3 문자 제한

URL 내에 특별한 의미로 예약되어 있는 경우 인코딩해서 사용해야 한다. (`%`, `/` 외 등등)

##### 2.4.4 좀 더 알아보기

안전하지 않거나 제한된 문자는 인코딩하거나 변환하는 것이 좋다.

#### 2.5 스킴의 바다

유명한 스킴으로는 `http`, `https`, `mailto`, `ftp`, `rtsp, rtspu`, `file`, `news`, `telnet` 등이 있다.

#### 2.6 미래

URL은 강력한 도구이지만 수조이지 실제 이름은 아니다. URN의 경우 URL과 다르게 경로가 변경되어도 같은 리소스를 찾을 수 있다. [^2]

## 각주

[^1]: p31 이렇게 모든 형태를 가지는 URL은 잘 없다. 가장 중요한건 스킴, 호스트, 경로이다.
